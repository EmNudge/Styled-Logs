/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __spreadArrays(){for(var b=0,c=0,d=arguments.length;c<d;c++)b+=arguments[c].length;for(var e=Array(b),f=0,c=0;c<d;c++)for(var g=arguments[c],a=0,h=g.length;a<h;a++,f++)e[f]=g[a];return e}var StyledLog=function(){var b=String.raw;function a(){this.styles={},this.dom=[],this.logStr="",this.alias={br:"\n"}}return a.prototype.html=function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];var e=b.apply(String,__spreadArrays([a],c));return this.dom=this.getArrFromHTML(e),this},a.prototype.css=function(a){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];var e=b.apply(String,__spreadArrays([a],c));return this.styles=this.getObjFromCSS(e),this},a.prototype.log=function(){for(var a,b=[],c=[],d=0,e=this.dom;d<e.length;d++){if(a=e[d],"string"==typeof a){b.push(a);continue}c.push(a);var f=this.alias[a.tag];if(f){b.push("%c"+f+"%c");continue}b.push("%c"+a.text+"%c")}for(var g=[],h=0,i=c;h<i.length;h++){var a=i[h],j=this.styles[a.tag],k=this.styles["."+a.className];g.push((j||"")+";"+(k||"")),g.push("")}console.log.apply(console,__spreadArrays([b.join("")],g))},a.prototype.getArrFromHTML=function(a){for(var b,c="",d=[],e=a.split(""),f=0;f<e.length;f++){if(b=e[f],"<"===b&&c.length&&!c.includes("<")){d.push(c.trimLeft()),c="<";continue}if("\n"===b||"\t"===b||" "===b){var g=d[d.length-1];if(!c.length&&"object"==typeof g&&"br"!==g.tag){d.push(" ");continue}" "!==c.slice(-1)&&(c+=" ");continue}if(c+=b,f>=a.length-2&&">"!==b){d.push(c.trim());continue}var h=/<.+.*<\/.+>/,j=/<s*.+s*\/s*>/,k=-1<c.search(h),l=-1<c.search(j);if(k||l){var m=/class=".*"/,n=c.match(m)?c.match(m)[0].slice(7,-1):"",o=/<s*.*?(?=\/| )/,p=c.match(o)[0],q=p.slice(p.includes(" ")?p.lastIndexOf(" ")+1:1),r=/>.*</,s=c.match(r)?c.match(r)[0].slice(1,-1):"";d.push({text:s,className:n,tag:q}),c=""}}return d},a.prototype.getObjFromCSS=function(a){for(var b=a.split("}"),c={},d=0,e=b;d<e.length;d++)for(var f,g=e[d],h=g.split("{"),i=h[0],j=h[1],k=i.split(",").map(function(a){return a.trim()}),l=0,m=k;l<m.length;l++)f=m[l],c[f]?c[f]+=j:c[f]=j;return c},a}();export default StyledLog;
